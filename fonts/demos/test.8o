:const fontlib-str-end 0xFF
:const fontlib-str-newline 0xFE
:macro str-end { :byte fontlib-str-end }
:macro str-newline { :byte fontlib-str-newline }

:stringmode str "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz,./:&'-!? " {
  :byte VALUE
}

:macro setFont label {
    :unpack long label
  fontlib-set-font
}

:macro drawText label X Y maxX maxY {
    :unpack long label
  v2 := X
  v3 := Y
  v4 := maxX
  v5 := maxY
  fontlib-draw-text
}

:macro drawTextWrapped label X Y maxX maxY {
    :unpack long label
  v2 := X
  v3 := Y
  v4 := maxX
  v5 := maxY
  fontlib-wrap-text
  v3 := Y
  fontlib-draw-text-leave-pointer
}


:alias marginX v9
:alias marginY vA
:alias wrap vB
:alias showGrid vC
:alias selectedtext vD
:alias selectedFont vE

: main
  hires
  marginX := 8
  marginY := 7
  wrap := 1
  showGrid := 0
  selectedtext := 0
  selectedFont := 4

  loop
    plane 3
    clear

    # Draw the background grid
    if showGrid == 1 begin
      plane 2
      i := grid
      v0 := 0
      v1 := 0
      v2 := 32
      loop
        sprite v0 v1 0
        i += v2
        v0 += 16
        if v0 == 128 begin
          v0 := 0
          v1 += 16
        end
        if v1 != 64 then
      again
    end

    # Draw the containing box
    plane 1
    v0 := marginX
    v0 -= 2
    v1 := marginY
    v1 -= 2
    v2 := 65
    v2 -= marginY
    v3 := 129
    v3 -= marginX
    i := pixel
    loop
      sprite v0 v1 1
      sprite v0 v2 1
      v0 += 1
      if v0 <= v3 then
    again
    v0 := marginX
    v0 -= 2
    loop
      sprite v0 v1 1
      sprite v3 v1 1
      v1 += 1
      if v1 <= v2 then
    again

    # Select the right font
    i := fonts
    i += selectedFont
    i += selectedFont
    load v1
    fontlib-set-font

    # Load the right string
    i := strings
    i += selectedtext
    i += selectedtext
    load v1

    # Load the right coordinates
    v2 := marginX
    v3 := marginY
    v4 := 127
    v4 -= marginX
    v5 := 63
    v5 -= marginY

    # Draw wrapped or non-wrapped
    if wrap == 1 begin
      fontlib-wrap-text
      v3 := marginY
      fontlib-draw-text-leave-pointer
    else
      fontlib-unwrap-text
      fontlib-draw-text-leave-pointer
    end

    # Allow the user to change parameters
    v0 := key
    if v0 == 5 then marginY -= 1
    if v0 == 8 then marginY += 1
    if v0 == 7 then marginX -= 1
    if v0 == 9 then marginX += 1
    if v0 == 6 then selectedtext += 1
    vF := 3
    selectedtext &= vF
    if selectedFont != 0 begin
      if v0 == 2 then selectedFont -= 1
    end
    if selectedFont != 5 begin
      if v0 == 3 then selectedFont += 1
    end
    if v0 == 4 begin
      vF := 1
      wrap ^= vF
    end
    if v0 == 1 begin
      vF := 1
      showGrid ^= vF
    end
  again

: strings
  :pointer test-string-1
  :pointer test-string-2
  :pointer test-string-3
  :pointer test-string-4

: test-string-1
  str "the quick brown fox jumped over the lazy dog" str-newline
  str "THE QUICK BROWN FOX JUMPED OVER THE LAZY DOG" str-newline
  str "0123456789" str-newline
  str ",./:&'-!?" str-end

: test-string-2
  str "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nec nisi a mi interdum placerat. Vivamus sed"
  str "tincidunt risus. Fusce egestas et lectus at pretium. Donec dictum blandit libero." str-end

: test-string-3
  str "CHIP-8 is an interpreted programming language, "
  str "developed by Joseph Weisbecker made on his 1802 "
  str "Microprocessor. It was initially used on the "
  str "COSMAC VIP and Telmac 1800 8-bit microcomputers "
  str "in the mid-1970's." str-end

: test-string-4
  str "Hope you like it!" str-newline str-newline
  str "      -- Timendus" str-end

:alias minX v2
:alias Ypos v3
:alias maxX v4
:alias maxY v5
:alias Xpos v6
:alias index v7
:alias temp v1

:const fontlib-soft-newline 0xFD
:const fontlib-space 71


# Inputs:
#   * v0 - v1  ->  0xANNN where NNN is pointer to string (or 0xNNNN for XO-CHIP)
#   * v2       ->  min X coordinate
#   * v3       ->  min Y coordinate
#   * v4       ->  max X coordinate
#   * v5       ->  max Y coordinate
# Destroys:
#   * v0, v1, v3, v6, v7
#   * i
: fontlib-wrap-text
  fontlib-unwrap-text  # Also saves pointer and fixes max coordinates
  index := 0
  Xpos := minX
: fontlib-wrap-text-loop
  fontlib-get-text-pointer
  # i now points to string
  if Ypos > maxY then return
  index += 1
  if index == 0 begin
    # Can't handle strings of more than 255 characters
    :breakpoint fontlib-wrap-text-cant-handle-strings-longer-than-255-chars
    return
  end
  load v0

  # Are we done?
  if v0 == fontlib-str-end then return

  # Is this a hard newline?
  if v0 == fontlib-str-newline begin
    fontlib-go-to-new-line
    jump fontlib-wrap-text-loop
  end

  # How wide is this character?
  fontlib-get-font-pointer  # i now points to font
  load v0 # Get font width in pixels

  # Will we go over maxX if we render this character?
  temp := Xpos
  temp += v0

  # All is well, just add to Xpos and move on
  if temp <= maxX begin
    Xpos += v0
    jump fontlib-wrap-text-loop
  end

  # We've overflowed maxX

  # Backtrack back up the string, find the first space
: -
  index -= 1
  if index == 255 begin  # Hit start of string, bail ("should never happen")
    :breakpoint fontlib-wrap-text-cant-wrap-this-string-badness-1
    return
  end
  fontlib-get-text-pointer
  load v0
  if v0 != fontlib-space begin
    # Subtract this character's width from Xpos,
    # backtracking through the pixels as well
    fontlib-get-font-pointer
    load v0
    Xpos -= v0
    if vF == 0 begin  # Subtracted too much, bail ("should never happen")
      :breakpoint fontlib-wrap-text-cant-wrap-this-string-badness-2
      return
    end
    jump -
  end

  # `index` now points to the previous space, replace with soft-newline
    fontlib-get-text-pointer
  v0 := fontlib-soft-newline
  save v0

  # And move on
  fontlib-go-to-new-line
  index += 1
  jump fontlib-wrap-text-loop

# Inputs:
#   * v0 - v1  ->  0xANNN where NNN is pointer to string (or 0xNNNN for XO-CHIP)
# Destroys:
#   * v0, v7
: fontlib-unwrap-text
  fontlib-save-text-pointer
  :next fontlib-fontheight-1
  maxY -= 0
  maxY += 1
  maxX += 2
  index := 0
: fontlib-unwrap-text-loop
  fontlib-get-text-pointer
  # i now points to string
  index += 1
   if index == 0 begin
    # Can't handle strings of more than 255 characters
    :breakpoint fontlib-unwrap-text-cant-handle-strings-longer-than-255-chars
    return
  end
  load v0
  if v0 == fontlib-str-end then return

  # The width may have changed, so do a fresh text wrap
  # If we encounter an existing soft-newline, revert it back to a space
  if v0 == fontlib-soft-newline begin
    index -= 1
      fontlib-get-text-pointer
    v0 := fontlib-space
    save v0
  end
  jump fontlib-unwrap-text-loop



# Inputs:
#   * v0 - v1  ->  0xANNN where NNN is pointer to font (or 0xNNNN for XO-CHIP)
# Destroys:
#   * v0, v1
: fontlib-set-font
  i := fontlib-set-font-smc
  save v1
  vF := 1
  v1 += vF
  v0 += vF
  # Store font address in the appropriate places
  i := fontlib-get-font-pointer-smc
  save v1
    0xF0 0x00
: fontlib-set-font-smc
  0x00 0x00
  load v0
  # Store font height in the appropriate places

  # Update this addition and setting of register
  i := fontlib-fontheight-4
  save v0
  i := fontlib-fontheight-5
  save v0

  # Update these subtractions
  v1 := v0
  v0 := 0
  v0 -= v1
    i := fontlib-fontheight-1
    save v0
  i := fontlib-fontheight-2
  save v0

  # Update sprite opcode
  i := fontlib-fontheight-3
  load v0
  vF := 0xF0
  v0 &= vF
  v0 |= v1
  i := fontlib-fontheight-3
  save v0
  return


# Inputs:
#   * v0 - v1  ->  0xANNN where NNN is pointer to string (or 0xNNNN for XO-CHIP)
#   * v2       ->  min X coordinate
#   * v3       ->  min Y coordinate
#   * v4       ->  max X coordinate
#   * v5       ->  max Y coordinate
# Destroys:
#   * v0, v1, v3, v6, v7
#   * i
: fontlib-draw-text
  fontlib-save-text-pointer
  :next fontlib-fontheight-2
  maxY -= 0
  maxY += 1
  maxX += 2
: fontlib-draw-text-leave-pointer
  index := 0
  Xpos := minX
: fontlib-draw-text-loop
  fontlib-get-text-pointer
  # i now points to string
  if Ypos > maxY then return
  index += 1
   if index == 0 begin
    # Can't handle strings of more than 255 characters
    :breakpoint fontlib-draw-text-cant-handle-strings-longer-than-255-chars
    return
  end
  load v0
  if v0 == fontlib-str-end then return
  if v0 == fontlib-str-newline begin
    fontlib-go-to-new-line
    jump fontlib-draw-text-loop
  end
  if v0 == fontlib-soft-newline begin
    fontlib-go-to-new-line
    jump fontlib-draw-text-loop
  end
  fontlib-get-font-pointer  # i now points to font
  load v0  # Get font width in pixels
  temp := Xpos
  temp += v0
  if temp > maxX begin
    fontlib-go-to-new-line
    if Ypos > maxY then return
  end
  :next fontlib-fontheight-3
  sprite Xpos Ypos 0
  Xpos += v0
  jump fontlib-draw-text-loop


: fontlib-go-to-new-line
  Xpos := minX
  :next fontlib-fontheight-4
  Ypos += 0
  Ypos += 1
  return

# v0 - v1 are unpacked string pointer
: fontlib-save-text-pointer
  i := fontlib-get-text-pointer-smc
  save v1
  return

# Get pointer to current character in `i`
: fontlib-get-text-pointer
    0xF0 0x00
: fontlib-get-text-pointer-smc
  0x00 0x00
  i += index
  return

# v0 is requested character
: fontlib-get-font-pointer
    0xF0 0x00
: fontlib-get-font-pointer-smc
  0x00 0x00
  i += v0
  :next fontlib-fontheight-5
  temp := 5
  loop
    i += v0
    temp -= 1
    if temp != 0 then
  again
  return


: pixel
  0b10000000

: grid
: grid-0-0
  0xff 0xff 0x80 0x20 0xb8 0x2c 0xa8 0x24 0xa8 0x24 0xb8 0x2e 0x80 0x20 0x80 0x20
  0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0xb3 0xa0 0x92 0xa0 0x92 0xa0 0xbb 0xa0
: grid-2-0
  0xff 0xff 0x08 0x02 0xeb 0xba 0xa8 0xaa 0xab 0x2a 0xeb 0xba 0x08 0x02 0x08 0x02
  0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
: grid-4-0
  0xff 0xff 0x00 0x80 0xee 0xab 0x6a 0xba 0x2a 0x8a 0xee 0x8b 0x00 0x80 0x00 0x80
  0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
: grid-6-0
  0xff 0xff 0x20 0x08 0xae 0xe9 0xac 0xaa 0xa2 0xab 0xac 0xeb 0x20 0x08 0x20 0x08
  0x20 0x08 0x20 0x08 0xff 0xff 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08
: grid-8-0
  0xff 0xff 0x02 0x00 0xba 0xee 0x2a 0x2a 0xaa 0x4a 0xba 0x4e 0x02 0x00 0x02 0x00
  0x02 0x00 0x02 0x00 0xff 0xff 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00
: grid-10-0
  0xff 0xff 0x80 0x20 0xbb 0xae 0xba 0xae 0xaa 0xa2 0xbb 0xac 0x80 0x20 0x80 0x20
  0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20
: grid-12-0
  0xff 0xff 0x08 0x02 0xea 0xee 0xaa 0xaa 0xaa 0xaa 0xea 0xee 0x08 0x02 0x08 0x02
  0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
: grid-14-0
  0xff 0xff 0x00 0x80 0xae 0xac 0xaa 0xa2 0xaa 0xac 0xae 0xae 0x00 0x80 0x00 0x80
  0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
: grid-0-1
  0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0xbb 0xa0 0x8a 0xa0
  0xb2 0xa0 0xbb 0xa0 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20
: grid-2-1
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02
: grid-4-1
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80
: grid-6-1
  0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0xff 0xff 0x20 0x08 0x20 0x08 0x20 0x08
  0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0xff 0xff 0x20 0x08
: grid-8-1
  0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0xff 0xff 0x02 0x00 0x02 0x00 0x02 0x00
  0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0xff 0xff 0x02 0x00
: grid-10-1
  0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0x80 0x20 0x80 0x20
  0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20
: grid-12-1
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02
: grid-14-1
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80
: grid-0-2
  0xbb 0xa0 0x9a 0xa0 0x8a 0xa0 0xbb 0xa0 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20
  0xff 0xff 0x80 0x20 0xab 0xa0 0xba 0xa0 0x8a 0xa0 0x8b 0xa0 0x80 0x20 0x80 0x20
: grid-2-2
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
  0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
: grid-4-2
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
  0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
: grid-6-2
  0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08
  0xff 0xff 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08
: grid-8-2
  0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00
  0xff 0xff 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00
: grid-10-2
  0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20
  0xff 0xff 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20
: grid-12-2
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
  0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
: grid-14-2
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
  0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
: grid-0-3
  0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0xbb 0xa0 0xb2 0xa0 0x8a 0xa0 0xb3 0xa0
  0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0x9b 0xa0 0xa2 0xa0
: grid-2-3
  0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02
: grid-4-3
  0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80
: grid-6-3
  0x20 0x08 0x20 0x08 0xff 0xff 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08
  0x20 0x08 0x20 0x08 0x20 0x08 0x20 0x08 0xff 0xff 0x20 0x08 0x20 0x08 0x20 0x08
: grid-8-3
  0x02 0x00 0x02 0x00 0xff 0xff 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00
  0x02 0x00 0x02 0x00 0x02 0x00 0x02 0x00 0xff 0xff 0x02 0x00 0x02 0x00 0x02 0x00
: grid-10-3
  0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20
  0x80 0x20 0x80 0x20 0x80 0x20 0x80 0x20 0xff 0xff 0x80 0x20 0x80 0x20 0x80 0x20
: grid-12-3
  0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02
  0x08 0x02 0x08 0x02 0x08 0x02 0x08 0x02 0xff 0xff 0x08 0x02 0x08 0x02 0x08 0x02
: grid-14-3
  0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80
  0x00 0x80 0x00 0x80 0x00 0x80 0x00 0x80 0xff 0xff 0x00 0x80 0x00 0x80 0x00 0x80


: fonts
  :pointer font-3-pix
  :pointer font-4-pix-low
  :pointer font-4-pix-high
  :pointer font-5-pix-narrow
  :pointer font-5-pix-wide
  :pointer font-6-pix


: font-3-pix
  3
  0x04 0x60 0xa0 0x60
  0x04 0xc0 0xe0 0xe0
  0x04 0x60 0x80 0x60
  0x04 0xc0 0xa0 0xc0
  0x04 0xe0 0xc0 0xe0
  0x04 0xe0 0xc0 0x80
  0x04 0x80 0xa0 0x60
  0x04 0xa0 0xe0 0xa0
  0x02 0x80 0x80 0x80
  0x03 0x40 0x40 0x80
  0x04 0xa0 0xc0 0xa0
  0x03 0x80 0x80 0xc0
  0x04 0xe0 0xe0 0xa0
  0x04 0xc0 0xa0 0xa0
  0x04 0xe0 0xa0 0xe0
  0x04 0xe0 0xe0 0x80
  0x04 0xe0 0xe0 0x20
  0x04 0xe0 0xc0 0xa0
  0x04 0x60 0x40 0xc0
  0x04 0xe0 0x40 0x40
  0x04 0xa0 0xa0 0x60
  0x04 0xa0 0xa0 0x40
  0x04 0xa0 0xe0 0xe0
  0x04 0xa0 0x40 0xa0
  0x04 0xa0 0x40 0x40
  0x04 0xc0 0x40 0x60
  0x04 0xe0 0xa0 0xe0
  0x04 0xc0 0x40 0xe0
  0x04 0xc0 0x40 0x60
  0x04 0xe0 0x60 0xe0
  0x04 0xa0 0xe0 0x20
  0x04 0x60 0x40 0xc0
  0x04 0x80 0xe0 0xe0
  0x04 0xe0 0x20 0x40
  0x04 0xe0 0xe0 0xe0
  0x04 0xe0 0xe0 0x20
  0x04 0x60 0xa0 0x60
  0x04 0x80 0xe0 0xe0
  0x04 0x60 0x80 0x60
  0x04 0x20 0xe0 0xe0
  0x04 0x60 0xc0 0x60
  0x04 0xe0 0xc0 0x80
  0x04 0x60 0x20 0xc0
  0x04 0x80 0xe0 0xa0
  0x02 0x80 0x80 0x80
  0x03 0x40 0x40 0x80
  0x04 0xa0 0xc0 0xa0
  0x03 0xc0 0x40 0x40
  0x04 0xe0 0xe0 0xa0
  0x04 0xc0 0xa0 0xa0
  0x04 0x40 0xa0 0x40
  0x03 0xc0 0xc0 0x80
  0x03 0xc0 0xc0 0x40
  0x03 0xc0 0x80 0x80
  0x04 0x60 0x40 0xc0
  0x04 0xe0 0x40 0x40
  0x04 0xa0 0xa0 0x60
  0x04 0xa0 0xa0 0x40
  0x04 0xa0 0xe0 0xe0
  0x04 0xa0 0x40 0xa0
  0x04 0xa0 0x40 0x80
  0x04 0xc0 0x40 0x60
  0x03 0x00 0x40 0x80
  0x02 0x00 0x00 0x80
  0x04 0x20 0x40 0x80
  0x02 0x80 0x00 0x80
  0x05 0xc0 0xc0 0xc0
  0x02 0x80 0x00 0x00
  0x03 0x00 0xc0 0x00
  0x02 0x80 0x80 0x80
  0x04 0xc0 0x20 0x40
  0x02 0x00 0x00 0x00



: font-4-pix-low
  4
  0x04 0x40 0xa0 0xe0 0xa0
  0x04 0xc0 0xe0 0xa0 0xe0
  0x04 0x60 0x80 0x80 0x60
  0x04 0xc0 0xa0 0xa0 0xc0
  0x04 0xe0 0xc0 0x80 0xe0
  0x04 0xe0 0x80 0xc0 0x80
  0x04 0x60 0x80 0xa0 0x60
  0x04 0xa0 0xe0 0xa0 0xa0
  0x04 0xe0 0x40 0x40 0xe0
  0x04 0xe0 0x20 0x20 0xc0
  0x04 0xa0 0xc0 0xa0 0xa0
  0x03 0x80 0x80 0x80 0xc0
  0x06 0xd8 0xa8 0x88 0x88
  0x05 0x90 0xd0 0xb0 0x90
  0x04 0x40 0xa0 0xa0 0x40
  0x04 0xc0 0xa0 0xc0 0x80
  0x04 0x40 0xa0 0xe0 0x60
  0x04 0xc0 0xa0 0xc0 0xa0
  0x04 0x60 0xc0 0x20 0xc0
  0x04 0xe0 0x40 0x40 0x40
  0x04 0xa0 0xa0 0xa0 0x60
  0x04 0xa0 0xa0 0xa0 0x40
  0x06 0x88 0xa8 0xa8 0x50
  0x04 0xa0 0x40 0xa0 0xa0
  0x04 0xa0 0xa0 0x40 0x40
  0x04 0xe0 0x60 0x80 0xe0
  0x04 0xe0 0xa0 0xa0 0xe0
  0x04 0xc0 0x40 0x40 0xe0
  0x04 0xe0 0x20 0xc0 0xe0
  0x04 0xe0 0x60 0x20 0xe0
  0x04 0xa0 0xe0 0x20 0x20
  0x04 0xe0 0xc0 0x20 0xc0
  0x04 0x60 0x80 0xe0 0xe0
  0x04 0xe0 0x20 0x40 0x40
  0x04 0xe0 0xe0 0xa0 0xe0
  0x04 0xe0 0xe0 0x20 0xc0
  0x04 0x00 0x60 0xa0 0x60
  0x04 0x80 0xc0 0xa0 0xc0
  0x04 0x00 0x60 0x80 0x60
  0x04 0x20 0x60 0xa0 0x60
  0x04 0x00 0x60 0xc0 0x60
  0x04 0x60 0x80 0xc0 0x80
  0x04 0x60 0xa0 0x60 0xc0
  0x04 0x80 0xc0 0xa0 0xa0
  0x02 0x80 0x00 0x80 0x80
  0x03 0x40 0x00 0x40 0x80
  0x04 0x80 0xa0 0xc0 0xa0
  0x03 0xc0 0x40 0x40 0x40
  0x06 0x00 0xd0 0xa8 0x88
  0x04 0x00 0xc0 0xa0 0xa0
  0x04 0x00 0x40 0xa0 0x40
  0x04 0x00 0xe0 0xe0 0x80
  0x03 0x00 0xc0 0xc0 0x40
  0x03 0x00 0xc0 0x80 0x80
  0x04 0x00 0x60 0x40 0xc0
  0x03 0x80 0xc0 0x80 0x40
  0x04 0x00 0xa0 0xa0 0x60
  0x04 0x00 0xa0 0xa0 0x40
  0x06 0x00 0x88 0xa8 0x50
  0x04 0x00 0xa0 0x40 0xa0
  0x04 0x00 0xa0 0x40 0x80
  0x04 0x00 0xc0 0x40 0x60
  0x03 0x00 0x00 0x40 0x80
  0x02 0x00 0x00 0x00 0x80
  0x03 0x40 0x40 0x80 0x80
  0x02 0x00 0x80 0x00 0x80
  0x05 0xe0 0xa0 0xf0 0xe0
  0x02 0x80 0x80 0x00 0x00
  0x03 0x00 0x00 0xc0 0x00
  0x02 0x80 0x80 0x00 0x80
  0x04 0xe0 0x20 0x00 0x40
  0x02 0x00 0x00 0x00 0x00



: font-4-pix-high
  4
  0x04 0x40 0xa0 0xe0 0xa0
  0x04 0xc0 0xe0 0xa0 0xe0
  0x04 0x60 0x80 0x80 0x60
  0x04 0xc0 0xa0 0xa0 0xc0
  0x04 0xe0 0xc0 0x80 0xe0
  0x04 0xe0 0x80 0xc0 0x80
  0x04 0x60 0x80 0xa0 0x60
  0x04 0xa0 0xe0 0xa0 0xa0
  0x04 0xe0 0x40 0x40 0xe0
  0x04 0xe0 0x20 0x20 0xc0
  0x04 0xa0 0xc0 0xa0 0xa0
  0x03 0x80 0x80 0x80 0xc0
  0x06 0xf8 0xa8 0x88 0x88
  0x05 0x90 0xd0 0xb0 0x90
  0x04 0x40 0xa0 0xa0 0x40
  0x04 0xc0 0xa0 0xc0 0x80
  0x04 0x40 0xa0 0xe0 0x60
  0x04 0xc0 0xa0 0xc0 0xa0
  0x04 0x60 0xc0 0x20 0xc0
  0x04 0xe0 0x40 0x40 0x40
  0x04 0xa0 0xa0 0xa0 0x60
  0x04 0xa0 0xa0 0xa0 0x40
  0x06 0x88 0xa8 0xa8 0x50
  0x04 0xa0 0x40 0xa0 0xa0
  0x04 0xa0 0xa0 0x40 0x40
  0x04 0xe0 0x60 0x80 0xe0
  0x04 0xe0 0xa0 0xa0 0xe0
  0x04 0xc0 0x40 0x40 0xe0
  0x04 0xe0 0x20 0xc0 0xe0
  0x04 0xe0 0x60 0x20 0xe0
  0x04 0xa0 0xe0 0x20 0x20
  0x04 0xe0 0xc0 0x20 0xc0
  0x04 0x60 0x80 0xe0 0xe0
  0x04 0xe0 0x20 0x40 0x40
  0x04 0xe0 0xe0 0xa0 0xe0
  0x04 0xe0 0xe0 0x20 0xc0
  0x04 0x60 0xa0 0xa0 0x60
  0x04 0x80 0xc0 0xa0 0xc0
  0x04 0x60 0x80 0x80 0x60
  0x04 0x20 0x60 0xa0 0x60
  0x04 0x40 0xa0 0xc0 0x60
  0x04 0x60 0x80 0xc0 0x80
  0x04 0x60 0xa0 0x60 0xc0
  0x04 0x80 0xc0 0xa0 0xa0
  0x02 0x80 0x80 0x80 0x80
  0x03 0x40 0x40 0x40 0x80
  0x04 0xa0 0xc0 0xa0 0xa0
  0x03 0xc0 0x40 0x40 0x40
  0x06 0xd0 0xa8 0x88 0x88
  0x04 0xc0 0xa0 0xa0 0xa0
  0x04 0x40 0xa0 0xa0 0x40
  0x04 0xc0 0xa0 0xc0 0x80
  0x04 0x60 0xa0 0x60 0x20
  0x04 0xa0 0xc0 0x80 0x80
  0x03 0x40 0x80 0x40 0xc0
  0x03 0x80 0xc0 0x80 0x40
  0x04 0xa0 0xa0 0xa0 0x60
  0x04 0xa0 0xa0 0xa0 0x40
  0x06 0x88 0x88 0xa8 0x50
  0x04 0xa0 0x40 0xa0 0xa0
  0x04 0xa0 0xa0 0x40 0x80
  0x04 0xe0 0x60 0x80 0xe0
  0x03 0x00 0x00 0x40 0x80
  0x02 0x00 0x00 0x00 0x80
  0x03 0x40 0x40 0x80 0x80
  0x02 0x00 0x80 0x00 0x80
  0x05 0xe0 0xa0 0xf0 0xe0
  0x02 0x80 0x80 0x00 0x00
  0x03 0x00 0x00 0xc0 0x00
  0x02 0x80 0x80 0x00 0x80
  0x04 0xe0 0x20 0x00 0x40
  0x02 0x00 0x00 0x00 0x00



: font-5-pix-narrow
  5
  0x04 0x40 0xa0 0xe0 0xa0 0xa0
  0x04 0xc0 0xa0 0xc0 0xa0 0xc0
  0x04 0x60 0x80 0x80 0x80 0x60
  0x04 0xc0 0xa0 0xa0 0xa0 0xc0
  0x04 0xe0 0x80 0xc0 0x80 0xe0
  0x04 0xe0 0x80 0xc0 0x80 0x80
  0x04 0x60 0x80 0x80 0xa0 0x60
  0x04 0xa0 0xa0 0xe0 0xa0 0xa0
  0x04 0xe0 0x40 0x40 0x40 0xe0
  0x04 0xe0 0x20 0x20 0x20 0xc0
  0x04 0xa0 0xa0 0xc0 0xa0 0xa0
  0x03 0x80 0x80 0x80 0x80 0xc0
  0x06 0xd0 0xa8 0xa8 0x88 0x88
  0x04 0xc0 0xa0 0xa0 0xa0 0xa0
  0x04 0x40 0xa0 0xa0 0xa0 0x40
  0x04 0xc0 0xa0 0xc0 0x80 0x80
  0x04 0x40 0xa0 0xa0 0xe0 0x60
  0x04 0xc0 0xa0 0xc0 0xa0 0xa0
  0x04 0x60 0x80 0x40 0x20 0xc0
  0x04 0xe0 0x40 0x40 0x40 0x40
  0x04 0xa0 0xa0 0xa0 0xa0 0x60
  0x04 0xa0 0xa0 0xa0 0xa0 0x40
  0x06 0x88 0x88 0x88 0xa8 0x50
  0x04 0xa0 0xa0 0x40 0xa0 0xa0
  0x04 0xa0 0xa0 0x40 0x40 0x40
  0x04 0xe0 0x20 0x40 0x80 0xe0
  0x04 0xe0 0xa0 0xa0 0xa0 0xe0
  0x04 0x40 0xc0 0x40 0x40 0xe0
  0x04 0xc0 0x20 0x40 0x80 0xe0
  0x04 0xc0 0x20 0x40 0x20 0xc0
  0x04 0x80 0xa0 0xe0 0x20 0x20
  0x04 0xe0 0x80 0xc0 0x20 0xc0
  0x04 0x60 0x80 0xe0 0xa0 0xe0
  0x04 0xe0 0x20 0x40 0x40 0x40
  0x04 0xe0 0xa0 0xe0 0xa0 0xe0
  0x04 0xe0 0xa0 0xe0 0x20 0xc0
  0x04 0x00 0x60 0xa0 0xa0 0x60
  0x04 0x80 0xc0 0xa0 0xa0 0xc0
  0x04 0x00 0x60 0x80 0x80 0x60
  0x04 0x20 0x60 0xa0 0xa0 0x60
  0x04 0x00 0x40 0xa0 0xc0 0x60
  0x04 0x20 0x40 0xe0 0x40 0x40
  0x04 0x00 0x60 0xa0 0x60 0xc0
  0x04 0x80 0xc0 0xa0 0xa0 0xa0
  0x02 0x80 0x00 0x80 0x80 0x80
  0x03 0x40 0x00 0x40 0x40 0x80
  0x04 0x80 0xa0 0xc0 0xa0 0xa0
  0x02 0x80 0x80 0x80 0x80 0x80
  0x06 0x00 0xd0 0xa8 0x88 0x88
  0x04 0x00 0xc0 0xa0 0xa0 0xa0
  0x04 0x00 0x40 0xa0 0xa0 0x40
  0x04 0x00 0xc0 0xa0 0xc0 0x80
  0x04 0x00 0x60 0xa0 0x60 0x20
  0x04 0x00 0xa0 0xc0 0x80 0x80
  0x03 0x00 0xc0 0x80 0x40 0xc0
  0x04 0x40 0xe0 0x40 0x40 0x20
  0x04 0x00 0xa0 0xa0 0xa0 0x60
  0x04 0x00 0xa0 0xa0 0xa0 0x40
  0x06 0x00 0x88 0x88 0xa8 0x50
  0x04 0x00 0xa0 0x40 0xa0 0xa0
  0x04 0x00 0xa0 0x60 0x20 0xc0
  0x03 0x00 0xc0 0x40 0x80 0xc0
  0x03 0x00 0x00 0x00 0x40 0x80
  0x02 0x00 0x00 0x00 0x00 0x80
  0x04 0x20 0x20 0x40 0x80 0x80
  0x02 0x00 0x80 0x00 0x80 0x00
  0x04 0x40 0xa0 0x40 0xa0 0x60
  0x02 0x80 0x80 0x00 0x00 0x00
  0x03 0x00 0x00 0xc0 0x00 0x00
  0x02 0x80 0x80 0x80 0x00 0x80
  0x04 0xc0 0x20 0x40 0x00 0x40
  0x02 0x00 0x00 0x00 0x00 0x00



: font-5-pix-wide
  5
  0x05 0x60 0x90 0xf0 0x90 0x90
  0x05 0xe0 0x90 0xe0 0x90 0xe0
  0x05 0x70 0x80 0x80 0x80 0x70
  0x05 0xe0 0x90 0x90 0x90 0xe0
  0x05 0xf0 0x80 0xe0 0x80 0xf0
  0x05 0xf0 0x80 0xe0 0x80 0x80
  0x05 0x70 0x80 0xb0 0x90 0x70
  0x05 0x90 0x90 0xf0 0x90 0x90
  0x04 0xe0 0x40 0x40 0x40 0xe0
  0x04 0xe0 0x20 0x20 0x20 0xc0
  0x05 0x90 0xa0 0xc0 0xa0 0x90
  0x04 0x80 0x80 0x80 0x80 0xe0
  0x06 0xd0 0xa8 0xa8 0x88 0x88
  0x05 0x90 0xd0 0xb0 0x90 0x90
  0x05 0x60 0x90 0x90 0x90 0x60
  0x05 0xe0 0x90 0xe0 0x80 0x80
  0x05 0x60 0x90 0x90 0xb0 0x70
  0x05 0xe0 0x90 0xe0 0xa0 0x90
  0x05 0x70 0x80 0x60 0x10 0xe0
  0x04 0xe0 0x40 0x40 0x40 0x40
  0x05 0x90 0x90 0x90 0x90 0x70
  0x06 0x88 0x88 0x88 0x50 0x20
  0x06 0x88 0x88 0x88 0xa8 0x50
  0x06 0x88 0x50 0x20 0x50 0x88
  0x06 0x88 0x88 0x50 0x20 0x20
  0x05 0xf0 0x10 0x60 0x80 0xf0
  0x05 0x60 0x90 0x90 0x90 0x60
  0x04 0x40 0xc0 0x40 0x40 0xe0
  0x05 0xe0 0x10 0x60 0x80 0xf0
  0x05 0xe0 0x10 0x60 0x10 0xe0
  0x05 0x80 0x90 0xf0 0x10 0x10
  0x05 0xf0 0x80 0xe0 0x10 0xe0
  0x05 0x60 0x80 0xe0 0x90 0x60
  0x05 0xf0 0x10 0x20 0x40 0x40
  0x05 0x60 0x90 0x60 0x90 0x60
  0x05 0x60 0x90 0x70 0x10 0x60
  0x05 0x00 0x70 0x90 0x90 0x70
  0x05 0x80 0xe0 0x90 0x90 0xe0
  0x05 0x00 0x70 0x80 0x80 0x70
  0x05 0x10 0x70 0x90 0x90 0x70
  0x05 0x00 0x60 0x90 0xe0 0x70
  0x04 0x20 0x40 0xe0 0x40 0x40
  0x05 0x00 0x70 0x90 0x70 0xe0
  0x05 0x80 0xe0 0x90 0x90 0x90
  0x02 0x80 0x00 0x80 0x80 0x80
  0x04 0x20 0x00 0x20 0x20 0xc0
  0x05 0x80 0xb0 0xc0 0xa0 0x90
  0x03 0xc0 0x40 0x40 0x40 0x40
  0x06 0x00 0xd0 0xa8 0x88 0x88
  0x05 0x00 0xe0 0x90 0x90 0x90
  0x05 0x00 0x60 0x90 0x90 0x60
  0x05 0x00 0xe0 0x90 0xe0 0x80
  0x04 0x00 0x60 0xa0 0x60 0x20
  0x05 0x00 0xb0 0xc0 0x80 0x80
  0x05 0x00 0x70 0xc0 0x30 0xe0
  0x04 0x40 0xe0 0x40 0x40 0x20
  0x05 0x00 0x90 0x90 0x90 0x70
  0x05 0x00 0x90 0x90 0x90 0x60
  0x06 0x00 0x88 0x88 0xa8 0x50
  0x06 0x00 0xd8 0x70 0x70 0xd8
  0x05 0x00 0x90 0x70 0x10 0xe0
  0x05 0x00 0xf0 0x30 0xc0 0xf0
  0x03 0x00 0x00 0x00 0x40 0x80
  0x02 0x00 0x00 0x00 0x00 0x80
  0x04 0x20 0x20 0x40 0x80 0x80
  0x02 0x00 0x80 0x00 0x80 0x00
  0x05 0x60 0x90 0x60 0x90 0x70
  0x02 0x80 0x80 0x00 0x00 0x00
  0x03 0x00 0x00 0xc0 0x00 0x00
  0x02 0x80 0x80 0x80 0x00 0x80
  0x05 0xe0 0x10 0x60 0x00 0x40
  0x03 0x00 0x00 0x00 0x00 0x00



: font-6-pix
  6
  0x05 0x60 0x90 0xf0 0x90 0x90 0x90
  0x05 0xe0 0x90 0xe0 0x90 0x90 0xe0
  0x05 0x60 0x90 0x80 0x80 0x90 0x60
  0x05 0xe0 0x90 0x90 0x90 0x90 0xe0
  0x05 0xf0 0x80 0xe0 0x80 0x80 0xf0
  0x05 0xf0 0x80 0xe0 0x80 0x80 0x80
  0x05 0x60 0x90 0x80 0xb0 0x90 0x60
  0x05 0x90 0x90 0xf0 0x90 0x90 0x90
  0x04 0xe0 0x40 0x40 0x40 0x40 0xe0
  0x05 0x70 0x10 0x10 0x10 0x90 0x60
  0x05 0x90 0xa0 0xc0 0xa0 0x90 0x90
  0x04 0x80 0x80 0x80 0x80 0x80 0xe0
  0x06 0xd8 0xa8 0xa8 0x88 0x88 0x88
  0x05 0x90 0xd0 0xd0 0xb0 0xb0 0x90
  0x05 0x60 0x90 0x90 0x90 0x90 0x60
  0x05 0xe0 0x90 0x90 0xe0 0x80 0x80
  0x05 0x60 0x90 0x90 0x90 0xb0 0x70
  0x05 0xe0 0x90 0x90 0xe0 0x90 0x90
  0x05 0x70 0x80 0x40 0x20 0x10 0xe0
  0x06 0xf8 0x20 0x20 0x20 0x20 0x20
  0x05 0x90 0x90 0x90 0x90 0x90 0x70
  0x06 0x88 0x88 0x88 0x50 0x50 0x20
  0x06 0x88 0x88 0xa8 0xa8 0x50 0x50
  0x06 0x88 0x50 0x20 0x20 0x50 0x88
  0x06 0x88 0x88 0x50 0x20 0x20 0x20
  0x05 0xf0 0x10 0x20 0x40 0x80 0xf0
  0x05 0x60 0x90 0xb0 0xd0 0x90 0x60
  0x04 0x40 0xc0 0x40 0x40 0x40 0xe0
  0x05 0x60 0x90 0x10 0x20 0x40 0xf0
  0x05 0x60 0x90 0x20 0x10 0x90 0x60
  0x05 0x80 0xa0 0xa0 0xf0 0x20 0x20
  0x05 0xf0 0x80 0xe0 0x10 0x10 0xe0
  0x05 0x70 0x80 0xe0 0x90 0x90 0x60
  0x05 0xf0 0x10 0x20 0x40 0x40 0x40
  0x05 0x60 0x90 0x60 0x90 0x90 0x60
  0x05 0x60 0x90 0x90 0x70 0x10 0xe0
  0x05 0x00 0x70 0x90 0x90 0x90 0x70
  0x05 0x80 0xe0 0x90 0x90 0x90 0xe0
  0x05 0x00 0x70 0x80 0x80 0x80 0x70
  0x05 0x10 0x70 0x90 0x90 0x90 0x70
  0x05 0x00 0x60 0x90 0xf0 0x80 0x70
  0x05 0x30 0x40 0xe0 0x40 0x40 0x40
  0x05 0x00 0x70 0x90 0x70 0x10 0xe0
  0x05 0x80 0xe0 0x90 0x90 0x90 0x90
  0x02 0x80 0x00 0x80 0x80 0x80 0x80
  0x04 0x20 0x00 0x20 0x20 0x20 0xc0
  0x05 0x80 0x90 0xa0 0xc0 0xa0 0x90
  0x03 0xc0 0x40 0x40 0x40 0x40 0x40
  0x06 0x00 0xd0 0xa8 0x88 0x88 0x88
  0x05 0x00 0xe0 0x90 0x90 0x90 0x90
  0x05 0x00 0x60 0x90 0x90 0x90 0x60
  0x05 0x00 0xe0 0x90 0xe0 0x80 0x80
  0x05 0x00 0x70 0x90 0x70 0x10 0x10
  0x05 0x00 0xb0 0xc0 0x80 0x80 0x80
  0x05 0x00 0x70 0xc0 0x20 0x10 0xe0
  0x05 0x40 0xe0 0x40 0x40 0x40 0x30
  0x05 0x00 0x90 0x90 0x90 0x90 0x70
  0x06 0x00 0x88 0x88 0x88 0x50 0x20
  0x06 0x00 0x88 0x88 0xa8 0xa8 0x50
  0x06 0x00 0x88 0x50 0x20 0x50 0x88
  0x05 0x00 0x90 0x90 0x60 0x20 0xc0
  0x05 0x00 0xf0 0x30 0x40 0x80 0xf0
  0x03 0x00 0x00 0x00 0x40 0x40 0x80
  0x02 0x00 0x00 0x00 0x00 0x00 0x80
  0x05 0x10 0x10 0x20 0x40 0x80 0x80
  0x02 0x00 0x00 0x80 0x00 0x80 0x00
  0x06 0x60 0x90 0x60 0x90 0xb8 0x70
  0x03 0xc0 0x40 0x00 0x00 0x00 0x00
  0x04 0x00 0x00 0x00 0xe0 0x00 0x00
  0x02 0x80 0x80 0x80 0x80 0x00 0x80
  0x05 0x60 0x90 0x10 0x20 0x00 0x20
  0x03 0x00 0x00 0x00 0x00 0x00 0x00


